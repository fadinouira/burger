(this.webpackJsonpburger=this.webpackJsonpburger||[]).push([[0],{11:function(e,t,n){"use strict";t.a=function(e){return e.children}},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"h",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return O}));var c=n(4),r=n(21),a=n.n(r),i=a.a.create({baseURL:"https://burger-422f1-default-rtdb.europe-west1.firebasedatabase.app/"}),o=function(e){return{prop:e,type:c.a}},u=function(e){return{prop:e,type:c.j}},s=function(){return function(e){i.get("burger/-MmbpIiDJQUmL5RvBxbv.json").then((function(t){var n;e((n=t.data,{type:c.l,ingredients:n.ingredients,price:n.price}))})).catch((function(t){e(function(e){return{type:c.k,error:e}}(t.message))}))}},l=function(){return{type:c.f}},d=function(e){return{type:c.i,error:e}},j=function(e){return function(t){t(l()),i.get("/orders.json?auth="+e).then((function(e){t(function(e){var t=Object.keys(e).map((function(t){return e[t]}));return console.log("[orders Array] :",t),{type:c.e,orders:t}}(e.data))})).catch((function(e){t(d(e.message))}))}},b=function(e){return function(t){t(l()),i.post("/orders.json",e).then((function(e){var n;t((n=e.data,{type:c.h,id:n}))})).catch((function(e){t(d(e.message))}))}},f=function(e){return{type:c.d,authData:e}},h=function(){return localStorage.removeItem("token"),localStorage.removeItem("expire"),{type:c.g}},g=function(e,t,n){return console.log(e+t),function(r){r(l());var i={email:e,password:t,returnSecureToken:!0},o="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC3hmyzCEzn4kpEbsDecSXhxs2gd7bVq00";"Sign In"===n&&(o="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC3hmyzCEzn4kpEbsDecSXhxs2gd7bVq00"),a.a.post(o,i).then((function(e){r(f(e.data));var t=(new Date).getTime()+1e3*e.data.expiresIn;localStorage.setItem("token",e.data.idToken),localStorage.setItem("expire",t),localStorage.setItem("userId",e.data.localId)})).catch((function(e){console.log(e),r(function(e){return{type:c.b,error:e}}())}))}},O=function(){return function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId");t&&(localStorage.getItem("expire")>(new Date).getTime()&&e(f({idToken:t,localId:n})))}}},25:function(e,t,n){"use strict";n(85);var c=n(1);t.a=function(e){var t="Button "+e.class;return Object(c.jsx)("button",{onClick:e.click,className:t,children:e.children})}},29:function(e,t,n){"use strict";n(87);var c=n(1);t.a=function(){return Object(c.jsx)("div",{className:"Spinner",children:"Loading..."})}},38:function(e,t,n){},39:function(e,t,n){"use strict";n(83);var c=n(1);t.a=function(e){return e.show?Object(c.jsx)("div",{className:"Backdrop",onClick:e.hide}):null}},4:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"j",(function(){return r})),n.d(t,"l",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"h",(function(){return o})),n.d(t,"i",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return f}));var c="ADD_INGREDIENT",r="REMOVE_INGREDIENT",a="SET_INGREDIENTS",i="SET_ERROR",o="PURSHASE",u="PURSHASE_ERROR",s="LOADING",l="GET_ORDERS",d="LOG_OUT",j="AUTH_START",b="AUTH_SUCCESS",f="AUTH_FAILED"},40:function(e,t,n){"use strict";var c=n(2),r=(n(0),n(84),n(1));t.a=function(e){var t=null;switch(e.elementType){default:t=Object(r.jsx)("input",Object(c.a)(Object(c.a)({className:"InputElement"},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"textarea":t=Object(r.jsx)("textarea",Object(c.a)(Object(c.a)({className:"InputElement"},e.elementConfig),{},{value:e.value,onChange:e.changed}));break;case"select":t=Object(r.jsx)("select",{className:"InputElement",value:e.value,onChange:e.changed,children:e.elementConfig.options.map((function(e){return Object(r.jsx)("option",{value:e.value,children:e.displayValue},e.value)}))})}return Object(r.jsxs)("div",{className:"Input",children:[Object(r.jsx)("label",{className:"Label",children:e.label}),t]})}},48:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(20),i=n.n(a),o=(n(48),n(49),n(10)),u=n(3),s=n(12),l=n(9),d=n(14),j=n(11),b=(n(38),n(73),n.p+"static/media/logo.b098d155.png"),f=(n(74),n(1)),h=function(e){return Object(f.jsx)("div",{className:"Logo",style:{height:e.height},children:Object(f.jsx)("img",{src:b,alt:"logo"})})},g=(n(76),function(e){return Object(f.jsx)("li",{className:"NavItem",children:e.children})}),O=(n(77),function(e){var t=Object(f.jsx)(g,{children:Object(f.jsx)(o.b,{className:"a",to:"/sign-in",children:"Sign in"})});return e.auth&&(t=[Object(f.jsxs)(g,{children:[" ",Object(f.jsx)(o.b,{exact:!0,className:"a",to:"/",children:"Orders"})," "]}),Object(f.jsx)(g,{children:Object(f.jsx)(o.b,{className:"a",to:"/create",children:"Create Burger"})}),Object(f.jsx)(g,{children:Object(f.jsx)(o.b,{className:"a",to:"/logout",children:"Sign out"})})]),Object(f.jsx)("ul",{className:"NavItems",children:t})}),p=function(e){return Object(f.jsxs)("header",{className:"Toolbar",children:[Object(f.jsx)("div",{children:"MENU"}),Object(f.jsx)(h,{height:"60%"}),Object(f.jsx)("nav",{children:Object(f.jsx)(O,{auth:e.auth})})]})},m=(n(82),n(39)),v=function(e){var t="SideDrawer Open";return t=e.closed?"SideDrawer Open":"SideDrawer Close",Object(f.jsxs)(j.a,{children:[Object(f.jsx)(m.a,{show:e.closed&&!e.mobile,hide:e.clicked}),Object(f.jsxs)("div",{className:t,hidden:e.mobile,onClick:e.clicked,children:[Object(f.jsx)(h,{height:"100px"}),Object(f.jsx)("nav",{children:Object(f.jsx)(O,{auth:e.auth})})]})]})},x=Object(l.b)((function(e){return{token:e.auth.token}}))((function(e){var t=Object(c.useState)(!1),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(!window.matchMedia("(max-width: 500px)").matches),o=Object(d.a)(i,2),s=o[0],l=o[1];Object(c.useEffect)((function(){window.addEventListener("resize",(function(){window.innerWidth<500?l(!1):l(!0)}))}));var b=function(){a(!r)};return Object(f.jsxs)(j.a,{children:[Object(f.jsx)("button",{className:"Toggle",onClick:b,hidden:s,children:"\u2630"}),Object(f.jsx)("div",{className:"Logo-Home",hidden:s,children:Object(f.jsx)(h,{height:"30px"})}),e.token?null:Object(f.jsx)(u.a,{to:"/sign-in"}),Object(f.jsx)(p,{auth:null!=e.token}),Object(f.jsx)(v,{auth:null!=e.token,mobile:s,closed:r,clicked:function(){return b()}}),Object(f.jsx)("main",{className:"content",children:e.children})]})})),S=n(2),k=n(40),I=n(25),E=(n(86),n(29)),y=Object(l.b)((function(e){return{loading:e.order.loading,token:e.auth.token}}),(function(e){return{signIn:function(t,n,c){e(s.b(t,n,c))}}}))((function(e){var t=Object(c.useState)("Sign In"),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)({email:{type:"input",config:{type:"email",placeholder:"Your Email"},value:"",validation:{required:!0,isEmail:!0},valid:!1},password:{type:"input",config:{type:"password",placeholder:"password"},value:"",validation:{required:!0,minLength:6},valid:!1}}),o=Object(d.a)(i,2),s=o[0],l=o[1],b=function(e,t){var n=!0;if(!t)return!0;if(t.required&&(n=""!==e.trim()&&n),t.minLength&&(n=e.length>=t.minLength&&n),t.maxLength&&(n=e.length<=t.maxLength&&n),t.isEmail){n=/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(e)&&n}if(t.isNumeric){n=/^\d+$/.test(e)&&n}return n},h=[];for(var g in s)h.push({id:g,config:s[g]});var O=Object(f.jsx)(E.a,{});console.log("rendering"),e.loading||(O=Object(f.jsx)("form",{children:h.map((function(e){return Object(f.jsx)(k.a,{elementType:e.config.type,elementConfig:e.config.config,value:e.config.value,changed:function(t){return function(e,t){var n=Object(S.a)({},s),c=Object(S.a)({},n[t]);c.value=e.target.value,c.valid=b(e.target.value,n[t].validation),n[t]=c,l(n),b(e.target.value,n[t].validation)}(t,e.id)}},e.id)}))}));return Object(f.jsx)(j.a,{children:Object(f.jsxs)("div",{className:"Auth",children:[O,Object(f.jsx)(I.a,{class:"Success",click:function(){var t=s.email.value,n=s.password.value;e.signIn(t,n,r)},children:r}),Object(f.jsx)("br",{}),Object(f.jsx)(I.a,{class:"Danger",click:function(){switch(r){case"Sign In":return a("Sign Up");case"Sign Up":return a("Sign In");default:return null}},children:"Sign Up/Sign In"}),e.token?Object(f.jsx)(u.a,{to:"/create"}):null]})})})),N=Object(l.b)(null,(function(e){return{onLogOut:function(){e(s.e())}}}))((function(e){return Object(c.useEffect)((function(){e.onLogOut()}),[]),Object(f.jsx)(u.a,{to:"/"})})),w=r.a.lazy((function(){return n.e(4).then(n.bind(null,96))})),T=r.a.lazy((function(){return n.e(3).then(n.bind(null,98))}));var C=Object(l.b)(null,(function(e){return{authCheckState:function(){e(s.c())}}}))((function(e){return Object(c.useEffect)((function(){e.authCheckState()}),[]),Object(f.jsx)(o.a,{children:Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(x,{children:Object(f.jsx)(c.Suspense,{fallback:Object(f.jsx)("div",{children:"Loading..."}),children:Object(f.jsxs)(u.d,{children:[Object(f.jsx)(u.b,{path:"/create",component:T}),Object(f.jsx)(u.b,{path:"/sign-in",component:y}),Object(f.jsx)(u.b,{path:"/logout",component:N}),Object(f.jsx)(u.b,{path:"/",component:w})]})})})})})})),D=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,97)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))},L=n(17),_=n(16),R=n(4),z={price:0,ingredients:null,error:!1},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.a:return Object(S.a)(Object(S.a)({},e),{},{ingredients:Object(S.a)(Object(S.a)({},e.ingredients),{},Object(_.a)({},t.prop,e.ingredients[t.prop]+1)),price:e.price+1});case R.j:return Object(S.a)(Object(S.a)({},e),{},{ingredients:Object(S.a)(Object(S.a)({},e.ingredients),{},Object(_.a)({},t.prop,e.ingredients[t.prop]-1)),price:e.price-1});case R.l:return Object(S.a)(Object(S.a)({},e),{},{ingredients:t.ingredients,price:t.price});case R.k:return console.log(t.error),Object(S.a)(Object(S.a)({},e),{},{error:t.error});case R.h:return Object(S.a)(Object(S.a)({},e),{},{price:4,ingredients:null,error:!1});default:return e}},A={orders:null,loading:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.h:return Object(S.a)(Object(S.a)({},e),{},{loading:!1});case R.i:return console.log(t.error),Object(S.a)(Object(S.a)({},e),{},{loading:!1});case R.f:return Object(S.a)(Object(S.a)({},e),{},{loading:!0});case R.e:return{loading:!1,orders:t.orders};case R.d:case R.b:return Object(S.a)(Object(S.a)({},e),{},{loading:!1});case R.g:return Object(S.a)(Object(S.a)({},e),{},{orders:null});default:return e}},G={token:null,userId:null},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R.d:return console.log(t.authData),Object(S.a)(Object(S.a)({},e),{},{token:t.authData.idToken,userId:t.authData.localId});case R.g:return Object(S.a)(Object(S.a)({},e),{},{token:null,userId:null});default:return e}},M=n(43),P=Object(L.b)({burgerBuilder:U,order:B,auth:H}),q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||L.c,F=Object(L.d)(P,q(Object(L.a)(M.a)));i.a.render(Object(f.jsx)(l.a,{store:F,children:Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(C,{})})}),document.getElementById("root")),D()}},[[88,1,2]]]);
//# sourceMappingURL=main.c79f0f54.chunk.js.map